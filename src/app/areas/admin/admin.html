<app-header></app-header>

<section class="container labels"
  ng-if="$ctrl.admin === true">
  <div class="row">
    <div class="col-sm-4">
      <h4>Labels</h4>
      <div class="row">
        <div class="col-sm-12">
          <form class="label-form" ng-submit="$ctrl.addLabel($ctrl.labelForm)">
            <fieldset>
              <div class="form-group">
                <label for="label-name" class="control-label">Name</label>
                <input type="text" class="form-control" id="label-name" required
                  ng-model="$ctrl.labelForm.name">
              </div>
              <div class="form-group">
                <label for="label-description" class="control-label">Description</label>
                <input type="text" class="form-control" id="label-description"
                  ng-model="$ctrl.labelForm.description">
              </div>
            </fieldset>
            <button type="submit" class="btn btn-info pull-right" >Add Label</button>
          </form>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <hr />
          <ul class="list-unstyled">
            <li ng-repeat="label in $ctrl._LabelService._labels">{{ label.displayName }} <span ng-if="label.description">({{ label.description }})</span></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="col-sm-4">
      <h4>Locations</h4>
      <div class="row">
        <div class="col-sm-12">
          <form class="location-form" ng-submit="$ctrl.addLocation($ctrl.locationForm)">
            <fieldset>
              <div class="form-group">
                <label for="location-name" class="control-label">Name</label>
                <input type="text" class="form-control" id="location-name" required
                  ng-model="$ctrl.locationForm.name">
              </div>
              <div class="form-group">
                <label for="location-description" class="control-label">Description</label>
                <input type="text" class="form-control" id="location-description" 
                  ng-model="$ctrl.locationForm.description">
              </div>
              <select class="form-control" multiple size="10"
                ng-model="$ctrl.locationForm.labels">
                <option ng-repeat="label in $ctrl._LabelService._labels" value="{{ label.$id }}">{{ label.displayName }}</option>
              </select>
            </fieldset>
            <button type="submit" class="btn btn-info pull-right">Add Location</button>
          </form>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <hr />
          <ul class="list-unstyled">
            <li ng-repeat="location in $ctrl._LabelService._locations">{{ location.displayName }} <span ng-if="location.description">({{ location.description }})</span></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>